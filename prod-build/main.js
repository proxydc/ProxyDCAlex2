(()=>{var t={972:(t,e,o)=>{const s=new(0,o(900).Pool)({host:"localhost",port:5432,database:"postgres",user:"postgres",password:"Proxiad2024*!"});t.exports=s},679:(t,e,o)=>{const s=o(972),n=o(626);t.exports={getAuthentification:(t,e)=>{const{login_name:o,pass_word:c}=t.body;s.query(n.getAuthentification,[o,c],((t,o)=>{if(t)throw t;!o.rows.length&&e.send("Login failed"),e.status(200).send("Login success!")}))},getAccounts:(t,e)=>{s.query(n.getAccounts,((t,o)=>{if(t)throw t;e.status(200).json(o.rows)}))},getAccountById:(t,e)=>{const o=parseInt(t.params.id);s.query(n.getAccountById,[o],((t,o)=>{if(t)throw t;e.status(200).json(o.rows)}))},addAccount:(t,e)=>{const{login_name:o,diplay_name:c,pass_word:a}=t.body;s.query(n.checkLoginExists,[o],((t,r)=>{r.rows.length&&e.send("Login already exists."),s.query(n.addAccount,[o,c,a],((t,o)=>{if(t)throw t;e.status(201).send("Account created Successfully!")}))}))},deleteAccountById:(t,e)=>{const o=parseInt(t.params.id);s.query(n.getAccountById,[o],((t,c)=>{!c.rows.length&&e.send("Account does not exist in the database"),s.query(n.deleteAccountById,[o],((t,o)=>{if(t)throw t;e.status(200).send("Account deleted Successfully!")}))}))},updateAccount:(t,e)=>{const o=parseInt(t.params.id),{diplay_name:c,pass_word:a}=t.body;s.query(n.getAccountById,[o],((t,r)=>{!r.rows.length&&e.send("Account does not exist in the database"),s.query(n.updateAccount,[o,c,a],((t,o)=>{if(t)throw t;e.status(200).send("Account updated Successfully!")}))}))}}},626:t=>{t.exports={getAuthentification:"select a from account a where a.login_name = $1 and a.pass_word = $2",getAccounts:"select * from account",getAccountById:"select * from account where id = $1",checkLoginExists:"select a from account a where a.login_name = $1",addAccount:"insert into account(login_name, diplay_name, pass_word) values ($1, $2, $3)",updateAccount:"update account set diplay_name = $2, pass_word = $3 where id = $1",deleteAccountById:"delete from account where id = $1"}},650:(t,e,o)=>{const{Router:s}=o(860),n=o(679),c=s();c.post("/",n.getAuthentification),c.get("/",n.getAccounts),c.post("/",n.addAccount),c.get("/:id",n.getAccountById),c.put("/:id",n.updateAccount),c.delete("/:id",n.deleteAccountById),t.exports=c},860:t=>{"use strict";t.exports=require("express")},900:t=>{"use strict";t.exports=require("pg")}},e={};function o(s){var n=e[s];if(void 0!==n)return n.exports;var c=e[s]={exports:{}};return t[s](c,c.exports,o),c.exports}(()=>{const t=o(860),e=o(650),s=t();s.use(t.json()),s.get("/",((t,e)=>{e.send("Hello Proxiad Backend!")})),s.use("/api/v1/accounts",e),s.listen(3e3,(function(t){t?console.log("error"):console.log("started on port 3000")}))})()})();